import { ethers } from 'ethers'; export class Web3Manager { private provider: ethers.BrowserProvider | null = null; private signer: ethers.JsonRpcSigner | null = null; async connect() { if (typeof window !== 'undefined' && window.ethereum) { this.provider = new ethers.BrowserProvider(window.ethereum); await this.provider.send('eth_requestAccounts', []); this.signer = await this.provider.getSigner(); return await this.signer.getAddress(); } throw new Error('No wallet found'); } getSigner() { return this.signer; } getProvider() { return this.provider; } async getBalance(address: string) { if (!this.provider) throw new Error('Not connected'); return await this.provider.getBalance(address); } async getNetwork() { if (!this.provider) throw new Error('Not connected'); return await this.provider.getNetwork(); } } export const web3Manager = new Web3Manager();
